# 医疗影像模型管理平台 - 核心页面设计规范

> 基于后端功能说明书的Vue3 + Element Plus前端页面设计文档

## 📋 文档信息

- **项目名称**: 医疗影像模型管理平台
- **设计版本**: v2.0.0
- **创建日期**: 2025-01-15
- **设计依据**: 后端功能说明书 v1.0-v2.0
- **技术栈**: Vue3 + Element Plus + Vue Router + Pinia

## 🎯 设计范围

基于后端已实现功能，设计以下核心页面：

1. **登录页面** - 用户认证和权限验证
2. **系统配置管理** - 动态系统配置管理
3. **系统字典管理** - 多级字典系统管理
4. **用户管理** - 用户生命周期管理
5. **权限管理** - 动态权限配置管理
6. **积分系统** - 积分类型、场景、账户管理

## 🏗️ 整体布局架构

### 主布局结构
```
┌─────────────────────────────────────────────────────────────────┐
│                       顶部导航栏 (Header)                        │
│  Logo + 系统名称 + 用户信息 + 通知 + 设置                        │
├─────────────────────────────────────────────────────────────────┤
│         │                                                      │
│  侧边栏  │                    主内容区域 (Main)                  │
│ 导航菜单 │                                                      │
│         │                                                      │
│         │                                                      │
│         │                                                      │
└─────────┴──────────────────────────────────────────────────────┘
```

### 侧边菜单结构
```
📊 概览
📁 影像管理
🤖 AI模型管理
📋 任务管理
💰 积分系统
├── 积分类型管理
├── 积分场景管理
├── 积分账户管理
├── 积分交易记录
└── 积分业务操作
👥 用户管理
├── 用户信息管理
├── 子账号管理
└── 用户状态管理
🔐 权限管理
├── 权限配置
├── 角色权限配置
└── 权限树管理
⚙️ 系统管理
├── 系统配置管理
├── 系统字典管理
└── 缓存管理
❓ 帮助与支持
```

## 📱 页面详细设计

### 1. 登录页面 (Login Page)

#### 页面草图
```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│                                                                 │
│                    🏥 医疗影像模型管理平台                        │
│                                                                 │
│                                                                 │
│                    ┌─────────────────────┐                      │
│                    │      用户登录        │                      │
│                    ├─────────────────────┤                      │
│                    │ 用户名/邮箱: [    ]  │                      │
│                    │ 密码:        [    ]  │                      │
│                    │                     │                      │
│                    │ [记住密码] [登录]    │                      │
│                    │                     │                      │
│                    │ [忘记密码] [注册]    │                      │
│                    └─────────────────────┘                      │
│                                                                 │
│                                                                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 功能说明
- **页面标题**: 显示系统名称和Logo
- **登录表单**: 支持用户名或邮箱登录
- **记住密码**: 复选框，本地存储登录状态
- **操作按钮**: 登录、忘记密码、注册
- **表单验证**: 实时验证输入内容
- **错误提示**: 登录失败时显示具体原因

#### 交互逻辑
1. 用户输入用户名/邮箱和密码
2. 前端验证表单数据格式
3. 发送登录请求到后端
4. 成功后获取用户权限和角色信息
5. 跳转到主控制台
6. 失败时显示错误信息

#### 技术实现
- 使用Sa-Token进行身份认证
- 支持JWT Token管理
- 集成权限验证和角色检查
- 登录失败次数限制和账户锁定

---

### 2. 系统配置管理 (System Configuration Management)

#### 页面草图
```
┌─────────────────────────────────────────────────────────────────┐
│ 🏥 医疗影像模型管理平台 > ⚙️ 系统管理 > 系统配置                │
├─────────────────────────────────────────────────────────────────┐
│         │                                                      │
│ 📊 概览 │  ┌─────────────────────────────────────────────────┐ │
│ 📁 影像 │  │  [新增配置] [批量操作] [搜索] [筛选] [刷新]      │ │
│ 🤖 模型 │  ├─────────────────────────────────────────────────┤ │
│ 📋 任务 │  │  ┌─────────────────────────────────────────────┐ │ │
│ 💰 积分 │  │  │ 🔧 user.login.fail.max.count               │ │
│ 👥 用户 │  │  │ 配置值: 5 | 类型: NUMBER | 分类: 用户安全    │ │
│ ⚙️ 系统 │  │  │ 描述: 用户登录失败最大次数限制               │ │
│         │  │  │ 状态: ✅ 启用 | 排序: 1                      │ │
│         │  │  │ [编辑] [删除] [启用/禁用]                    │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 🔧 file.upload.max.size                    │ │
│         │  │  │ 配置值: 500MB | 类型: STRING | 分类: 文件管理 │ │
│         │  │  │ 描述: 文件上传最大大小限制                   │ │
│         │  │  │ 状态: ✅ 启用 | 排序: 2                      │ │
│         │  │  │ [编辑] [删除] [启用/禁用]                    │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 🔧 task.timeout.minutes                     │ │
│         │  │  │ 配置值: 30 | 类型: NUMBER | 分类: 任务处理   │ │
│         │  │  │ 描述: 任务执行超时时间(分钟)                 │ │
│         │  │  │ 状态: ✅ 启用 | 排序: 3                      │ │
│         │  │  │ [编辑] [删除] [启用/禁用]                    │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  [上一页] 1 2 3 [下一页]  共 25 个配置项          │ │
│         │  └─────────────────────────────────────────────────┘ │ │
│         │                                                      │
└─────────┴──────────────────────────────────────────────────────┘
```

#### 功能说明
- **操作工具栏**: 新增配置、批量操作、搜索、筛选、刷新
- **配置列表**: 配置键、配置值、类型、分类、描述、状态
- **配置分类**: 用户安全、文件管理、任务处理、系统运行等
- **配置类型**: STRING、NUMBER、BOOLEAN、JSON等
- **状态管理**: 启用/禁用状态控制
- **排序管理**: 配置项显示顺序

#### 交互逻辑
1. 查看系统配置列表和分类
2. 新增系统配置项
3. 编辑现有配置参数
4. 启用/禁用配置项
5. 按分类和类型筛选配置
6. 搜索配置键和描述

#### 技术实现
- 支持运行时动态配置修改
- 配置修改后立即生效
- 配置值类型验证和业务规则验证
- 配置修改审计日志记录

---

### 3. 系统字典管理 (System Dictionary Management)

#### 页面草图
```
┌─────────────────────────────────────────────────────────────────┐
│ 🏥 医疗影像模型管理平台 > ⚙️ 系统管理 > 系统字典                │
├─────────────────────────────────────────────────────────────────┐
│         │                                                      │
│ 📊 概览 │  ┌─────────────────────────────────────────────────┐ │
│ 📁 影像 │  │  [新增字典] [批量操作] [搜索] [筛选] [刷新]      │ │
│ 🤖 模型 │  ├─────────────────────────────────────────────────┤ │
│ 📋 任务 │  │  📁 CONFIG_TYPE (配置类型)                       │
│ 💰 积分 │  │  ├── CONFIG_TYPE.STRING (字符串类型)             │
│ 👥 用户 │  │  ├── CONFIG_TYPE.NUMBER (数字类型)               │
│ ⚙️ 系统 │  │  ├── CONFIG_TYPE.BOOLEAN (布尔类型)             │
│         │  │  └── CONFIG_TYPE.JSON (JSON类型)                 │
│         │  │                                                      │ │
│         │  │  📁 CONFIG_CATEGORY (配置分类)                   │
│         │  │  ├── CONFIG_CATEGORY.USER (用户配置)             │
│         │  │  ├── CONFIG_CATEGORY.SYSTEM (系统配置)           │
│         │  │  ├── CONFIG_CATEGORY.SECURITY (安全配置)         │
│         │  │  └── CONFIG_CATEGORY.CACHE (缓存配置)             │
│         │  │                                                      │ │
│         │  │  📁 USER_ROLE (用户角色)                          │
│         │  │  ├── USER_ROLE.USER (普通用户)                   │
│         │  │  ├── USER_ROLE.ADMIN (管理员)                    │
│         │  │  └── USER_ROLE.SUPER_ADMIN (超级管理员)          │
│         │  │                                                      │ │
│         │  │  [展开全部] [折叠全部] [编辑] [删除]              │ │
│         │  └─────────────────────────────────────────────────┘ │ │
│         │                                                      │
└─────────┴──────────────────────────────────────────────────────┘
```

#### 功能说明
- **操作工具栏**: 新增字典、批量操作、搜索、筛选、刷新
- **字典树结构**: 支持多级字典层次结构
- **字典分类**: 配置类型、配置分类、用户角色等
- **字典项管理**: 编码、名称、标签、描述、状态
- **层级关系**: 父子关系、路径信息、层级深度
- **模块分类**: 按功能模块分类管理

#### 交互逻辑
1. 展开/折叠字典树结构
2. 新增字典分类和字典项
3. 编辑字典项信息
4. 管理字典层级关系
5. 按模块筛选字典分类
6. 搜索字典编码和名称

#### 技术实现
- 单表多级字典设计
- 基于path的唯一编码体系
- 支持无限层级扩展
- 字典缓存优化和刷新

---

### 4. 用户管理 (User Management)

#### 页面草图
```
┌─────────────────────────────────────────────────────────────────┐
│ 🏥 医疗影像模型管理平台 > 👥 用户管理                          │
├─────────────────────────────────────────────────────────────────┐
│         │                                                      │
│ 📊 概览 │  ┌─────────────────────────────────────────────────┐ │
│ 📁 影像 │  │  [新增用户] [批量导入] [搜索] [筛选] [导出]      │ │
│ 🤖 模型 │  ├─────────────────────────────────────────────────┤ │
│ 📋 任务 │  │  ┌─────────────────────────────────────────────┐ │ │
│ 💰 积分 │  │  │ 👤 张三 (zhangsan@hospital.com)              │ │
│ 👥 用户 │  │  │ 角色: 医生 | 部门: 放射科 | 状态: ✅ 正常     │ │
│ ⚙️ 系统 │  │  │ 推荐码: ABC12345 | 推荐人: 李四              │ │
│         │  │  │ 最后登录: 2025-01-15 14:30:00                │ │
│         │  │  │ 创建时间: 2025-01-10 09:00:00                │ │
│         │  │  │ [编辑] [重置密码] [禁用] [删除]               │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 👤 李四 (lisi@hospital.com)                  │ │
│         │  │  │ 角色: 管理员 | 部门: 信息科 | 状态: ✅ 正常   │ │
│         │  │  │ 推荐码: DEF67890 | 推荐人: 无                │ │
│         │  │  │ 最后登录: 2025-01-15 13:45:00                │ │
│         │  │  │ 创建时间: 2025-01-08 14:30:00                │ │
│         │  │  │ [编辑] [重置密码] [禁用] [删除]               │ │
│         │  │  │ [查看子账号] [管理子账号]                     │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 👤 王五 (wangwu@hospital.com)                │ │
│         │  │  │ 角色: 医生 | 部门: 内科 | 状态: ⚠️ 待激活    │ │
│         │  │  │ 推荐码: GHI11111 | 推荐人: 张三              │ │
│         │  │  │ 最后登录: 从未登录                           │ │
│         │  │  │ 创建时间: 2025-01-15 10:00:00                │ │
│         │  │  │ [编辑] [激活] [删除]                         │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  [上一页] 1 2 3 [下一页]  共 45 个用户            │ │
│         │  └─────────────────────────────────────────────────┘ │ │
│         │                                                      │
└─────────┴──────────────────────────────────────────────────────┘
```

#### 功能说明
- **操作工具栏**: 新增用户、批量导入、搜索、筛选、导出
- **用户列表**: 用户名、邮箱、角色、部门、状态、推荐码
- **用户状态**: 正常、待激活、已禁用等状态
- **角色管理**: USER、ADMIN、SUPER_ADMIN等角色
- **推荐关系**: 推荐码、推荐人、推荐链追踪
- **子账号管理**: 管理员可创建和管理子账号

#### 交互逻辑
1. 点击新增用户进入用户创建表单
2. 编辑用户信息和权限设置
3. 重置用户密码
4. 启用/禁用用户账户
5. 查看和管理子账号
6. 批量导入用户数据

#### 技术实现
- 完整的用户生命周期管理
- 推荐码机制和推荐关系追踪
- 三级角色权限体系
- 子账号层级管理
- 密码安全策略和BCrypt加密

---

### 5. 权限管理 (Permission Management)

#### 页面草图
```
┌─────────────────────────────────────────────────────────────────┐
│ 🏥 医疗影像模型管理平台 > 🔐 权限管理                          │
├─────────────────────────────────────────────────────────────────┐
│         │                                                      │
│ 📊 概览 │  ┌─────────────────────────────────────────────────┐ │
│ 📁 影像 │  │  [新增权限] [批量操作] [搜索] [筛选] [刷新]      │ │
│ 🤖 模型 │  ├─────────────────────────────────────────────────┤ │
│ 📋 任务 │  │  ┌─────────────────────────────────────────────┐ │ │
│ 💰 积分 │  │  🔐 用户管理 (user:manage)                      │ │
│ 👥 用户 │  │  类型: MENU | 状态: ✅ 启用 | 排序: 1            │ │
│ ⚙️ 系统 │  │  路径: /user | 组件: UserManagement             │ │
│         │  │  描述: 用户信息管理功能                          │ │
│         │  │  [编辑] [删除] [启用/禁用]                      │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 🔐 用户新增 (user:create)                    │ │
│         │  │  │ 类型: BUTTON | 状态: ✅ 启用 | 排序: 2        │ │
│         │  │  │ 父权限: 用户管理 | 描述: 新增用户按钮         │ │
│         │  │  │ [编辑] [删除] [启用/禁用]                      │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 🔐 用户编辑 (user:edit)                      │ │ │
│         │  │  │ 类型: BUTTON | 状态: ✅ 启用 | 排序: 3        │ │ │
│         │  │  │ 父权限: 用户管理 | 描述: 编辑用户按钮         │ │ │
│         │  │  │ [编辑] [删除] [启用/禁用]                      │ │ │
│         │  │  └─────────────────────────────────────────────┘ │ │ │
│         │  │                                                      │ │
│         │  │  [上一页] 1 2 3 [下一页]  共 68 个权限            │ │
│         │  └─────────────────────────────────────────────────┘ │ │
│         │                                                      │
│         │  ┌─────────────────────────────────────────────────┐ │
│         │  │                   角色权限配置                    │ │
│         │  │  [选择角色] [配置权限] [保存配置] [重置配置]      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 角色: ADMIN | 权限数量: 45                   │ │
│         │  │  │ [查看权限树] [编辑权限] [复制权限]            │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  └─────────────────────────────────────────────────┘ │ │
│         │                                                      │
└─────────┴──────────────────────────────────────────────────────┘
```

#### 功能说明
- **操作工具栏**: 新增权限、批量操作、搜索、筛选、刷新
- **权限列表**: 权限编码、类型、状态、排序、描述
- **权限类型**: MENU（菜单）、BUTTON（按钮）、API（接口）
- **权限层次**: 支持父子权限关系，形成权限树
- **角色权限配置**: 为不同角色分配权限
- **权限状态**: 启用/禁用状态控制

#### 交互逻辑
1. 查看权限列表和树形结构
2. 新增权限项和配置权限关系
3. 编辑权限信息和状态
4. 配置角色权限分配
5. 查看权限树和权限关系
6. 复制角色权限配置

#### 技术实现
- 支持运行时动态权限配置
- 权限修改后立即生效
- 基于Sa-Token的权限验证
- 权限树形结构管理
- 角色权限实时配置

---

### 6. 积分系统 (Credit System)

#### 6.1 积分类型管理页面

#### 页面草图
```
┌─────────────────────────────────────────────────────────────────┐
│ 🏥 医疗影像模型管理平台 > 💰 积分系统 > 积分类型管理            │
├─────────────────────────────────────────────────────────────────┐
│         │                                                      │
│ 📊 概览 │  ┌─────────────────────────────────────────────────┐ │
│ 📁 影像 │  │  [新增类型] [批量操作] [搜索] [筛选] [刷新]      │ │
│ 🤖 模型 │  ├─────────────────────────────────────────────────┤ │
│ 📋 任务 │  │  ┌─────────────────────────────────────────────┐ │ │
│ 💰 积分 │  │  💰 NORMAL (普通积分)                           │ │
│ 👥 用户 │  │  名称: 普通积分 | 单位: 积分 | 精度: 整数        │ │
│ ⚙️ 系统 │  │  图标: 🪙 | 颜色: #1890FF | 转账: ✅ 支持        │ │
│         │  │  状态: ✅ 启用 | 排序: 1                          │ │
│         │  │  [编辑] [删除] [启用/禁用]                      │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 💰 PREMIUM (高级积分)                         │ │
│         │  │  │ 名称: 高级积分 | 单位: 高级积分 | 精度: 整数   │ │
│         │  │  │ 图标: 💎 | 颜色: #52C41A | 转账: ✅ 支持      │ │
│         │  │  │ 状态: ✅ 启用 | 排序: 2                        │ │
│         │  │  │ [编辑] [删除] [启用/禁用]                      │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  [上一页] 1 2 [下一页]  共 5 个积分类型            │ │
│         │  └─────────────────────────────────────────────────┘ │ │
│         │                                                      │
└─────────┴──────────────────────────────────────────────────────┘
```

#### 6.2 积分场景管理页面

#### 页面草图
```
┌─────────────────────────────────────────────────────────────────┐
│ 🏥 医疗影像模型管理平台 > 💰 积分系统 > 积分场景管理            │
├─────────────────────────────────────────────────────────────────┐
│         │                                                      │
│ 📊 概览 │  ┌─────────────────────────────────────────────────┐ │
│ 📁 影像 │  │  [新增场景] [批量操作] [搜索] [筛选] [刷新]      │ │
│ 🤖 模型 │  ├─────────────────────────────────────────────────┤ │
│ 📋 任务 │  │  ┌─────────────────────────────────────────────┐ │ │
│ 💰 积分 │  │  📋 READING (用户阅片)                          │ │
│ 👥 用户 │  │  名称: 用户阅片 | 积分类型: NORMAL | 积分: -1    │ │
│ ⚙️ 系统 │  │  每日限额: 100次 | 角色: USER,ADMIN,SUPER_ADMIN │ │
│         │  │  描述: 用户查看医疗影像时消耗积分                 │ │
│         │  │  状态: ✅ 启用 | 排序: 1                          │ │
│         │  │  [编辑] [删除] [启用/禁用]                      │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 📋 AI_COMPUTE (AI计算)                        │ │
│         │  │  │ 名称: AI计算 | 积分类型: PREMIUM | 积分: -5   │ │
│         │  │  │ 每日限额: 50次 | 角色: USER,ADMIN,SUPER_ADMIN │ │
│         │  │  │ 描述: 使用AI模型处理影像时消耗积分             │ │
│         │  │  │ 状态: ✅ 启用 | 排序: 2                        │ │
│         │  │  │ [编辑] [删除] [启用/禁用]                      │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  [上一页] 1 2 3 [下一页]  共 12 个积分场景        │ │
│         │  └─────────────────────────────────────────────────┘ │ │
│         │                                                      │
└─────────┴──────────────────────────────────────────────────────┘
```

#### 6.3 积分账户管理页面

#### 页面草图
```
┌─────────────────────────────────────────────────────────────────┐
│ 🏥 医疗影像模型管理平台 > 💰 积分系统 > 积分账户管理            │
├─────────────────────────────────────────────────────────────────┐
│         │                                                      │
│ 📊 概览 │  ┌─────────────────────────────────────────────────┐ │
│ 📁 影像 │  │  [账户初始化] [批量操作] [搜索] [筛选] [刷新]    │ │
│ 🤖 模型 │  ├─────────────────────────────────────────────────┤ │
│ 📋 任务 │  │  ┌─────────────────────────────────────────────┐ │ │
│ 💰 积分 │  │  👤 张三 (zhangsan@hospital.com)                │ │
│ 👥 用户 │  │  💰 NORMAL: 1,580 积分 | 💎 PREMIUM: 200 积分   │ │
│ ⚙️ 系统 │  │  累计获得: 2,000 | 累计消费: 420 | 状态: ✅ 正常 │ │
│         │  │  最后更新: 2025-01-15 14:30:00                   │ │
│         │  │  [查看详情] [分配积分] [冻结账户]                │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 👤 李四 (lisi@hospital.com)                  │ │
│         │  │  │ 💰 NORMAL: 850 积分 | 💎 PREMIUM: 150 积分   │ │
│         │  │  │ 累计获得: 1,200 | 累计消费: 200 | 状态: ✅ 正常 │ │
│         │  │  │ 最后更新: 2025-01-15 13:45:00                 │ │
│         │  │  │ [查看详情] [分配积分] [冻结账户]              │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  [上一页] 1 2 3 [下一页]  共 45 个用户账户        │ │
│         │  └─────────────────────────────────────────────────┘ │ │
│         │                                                      │
└─────────┴──────────────────────────────────────────────────────┘
```

#### 6.4 积分交易记录页面

#### 页面草图
```
┌─────────────────────────────────────────────────────────────────┐
│ 🏥 医疗影像模型管理平台 > 💰 积分系统 > 积分交易记录            │
├─────────────────────────────────────────────────────────────────┐
│         │                                                      │
│ 📊 概览 │  ┌─────────────────────────────────────────────────┐ │
│ 📁 影像 │  │  [搜索] [筛选] [导出] [刷新]                     │ │
│ 🤖 模型 │  ├─────────────────────────────────────────────────┤ │
│ 📋 任务 │  │  ┌─────────────────────────────────────────────┐ │ │
│ 💰 积分 │  │  📋 交易ID: #20250115001                        │ │
│ 👥 用户 │  │  用户: 张三 | 积分类型: NORMAL | 类型: 消费      │ │
│ ⚙️ 系统 │  │  积分: -1 | 余额变化: 1,580 → 1,579             │ │
│         │  │  场景: READING | 描述: 用户阅片消费               │ │
│         │  │  时间: 2025-01-15 14:30:00                       │ │
│         │  │  [查看详情] [查看关联交易]                       │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  ┌─────────────────────────────────────────────┐ │ │
│         │  │  │ 📋 交易ID: #20250115002                        │ │
│         │  │  │ 用户: 张三 | 积分类型: PREMIUM | 类型: 消费   │ │
│         │  │  │ 积分: -5 | 余额变化: 200 → 195                │ │
│         │  │  │ 场景: AI_COMPUTE | 描述: AI计算消费           │ │
│         │  │  │ 时间: 2025-01-15 14:25:00                     │ │
│         │  │  │ [查看详情] [查看关联交易]                     │ │
│         │  │  └─────────────────────────────────────────────┘ │ │
│         │  │                                                      │ │
│         │  │  [上一页] 1 2 3 4 5 [下一页]  共 156 条交易记录   │ │
│         │  └─────────────────────────────────────────────────┘ │ │
│         │                                                      │
└─────────┴──────────────────────────────────────────────────────┘
```

#### 积分系统功能说明

##### 积分类型管理
- **操作工具栏**: 新增类型、批量操作、搜索、筛选、刷新
- **类型列表**: 类型编码、名称、单位、精度、图标、颜色
- **转账支持**: 控制该类型积分是否支持用户间转账
- **状态管理**: 启用/禁用状态控制
- **排序管理**: 类型显示顺序

##### 积分场景管理
- **操作工具栏**: 新增场景、批量操作、搜索、筛选、刷新
- **场景列表**: 场景编码、名称、积分类型、积分数量、每日限额
- **角色权限**: 允许使用该场景的用户角色列表
- **消费/奖励**: 正数表示消费，负数表示奖励
- **限额控制**: 每日使用次数限制

##### 积分账户管理
- **操作工具栏**: 账户初始化、批量操作、搜索、筛选、刷新
- **账户列表**: 用户信息、各类型积分余额、累计统计
- **余额显示**: 实时显示各类型积分余额
- **统计信息**: 累计获得、累计消费、最后更新时间
- **账户操作**: 查看详情、分配积分、冻结账户

##### 积分交易记录
- **操作工具栏**: 搜索、筛选、导出、刷新
- **交易列表**: 交易ID、用户、积分类型、交易类型、积分数量
- **余额变化**: 交易前后的余额变化情况
- **场景信息**: 关联的积分使用场景
- **关联交易**: 支持查看关联的交易记录

#### 积分系统交互逻辑

##### 积分类型管理
1. 查看积分类型列表和状态
2. 新增积分类型和配置属性
3. 编辑类型信息和状态
4. 管理类型排序和显示
5. 启用/禁用积分类型

##### 积分场景管理
1. 查看积分使用场景列表
2. 新增积分消费或奖励场景
3. 配置场景的积分消耗和权限
4. 设置每日使用限额
5. 管理场景状态和排序

##### 积分账户管理
1. 查看用户积分账户列表
2. 初始化用户积分账户
3. 查看账户余额和统计信息
4. 为用户分配积分
5. 管理账户状态

##### 积分交易记录
1. 查看积分交易历史记录
2. 按条件筛选和搜索交易
3. 查看交易详情和关联交易
4. 导出交易记录报表
5. 分析积分使用趋势

#### 积分系统技术实现
- 支持多种积分类型和动态配置
- 完整的积分生命周期管理
- 实时积分余额更新和验证
- 完整的交易记录追踪
- 基于角色的权限控制
- 乐观锁机制防止并发问题

---

## 🎨 组件设计规范

### 通用组件

#### 1. **导航组件 (Navigation)**
- **顶部导航栏**: Logo、系统名称、用户信息、通知、设置
- **侧边菜单**: 功能模块导航、折叠/展开控制
- **面包屑导航**: 页面层级路径显示
- **底部导航**: 移动端底部标签导航

#### 2. **数据展示组件 (Data Display)**
- **数据卡片**: 关键指标展示、趋势图表
- **数据表格**: 分页、排序、筛选、批量操作
- **状态标签**: 不同状态的颜色标识
- **进度条**: 任务执行进度显示
- **树形组件**: 权限树、字典树等层次结构

#### 3. **操作组件 (Action)**
- **按钮组**: 主要操作、次要操作、危险操作
- **搜索框**: 实时搜索、高级筛选
- **上传组件**: 拖拽上传、进度显示、文件预览
- **分页器**: 页码导航、每页条数选择
- **表单组件**: 新增、编辑表单

### 专业功能组件

#### 1. **权限管理组件 (Permission Management)**
- **权限树组件**: 支持多级权限层次展示
- **角色权限配置**: 角色权限分配和配置
- **权限验证**: 实时权限验证和状态显示

#### 2. **积分系统组件 (Credit System)**
- **积分余额显示**: 多类型积分余额展示
- **积分操作**: 消费、奖励、转账、分配等操作
- **交易记录**: 交易历史记录和统计

#### 3. **系统配置组件 (System Configuration)**
- **配置表单**: 动态配置项表单生成
- **配置验证**: 配置值类型和业务规则验证
- **配置分类**: 按功能模块分类管理

## 🔄 页面交互流程

### 主要业务流程

#### 1. **用户认证流程**
```
访问登录页 → 输入凭证 → 验证身份 → 获取权限 → 跳转主控制台
```

#### 2. **系统配置管理流程**
```
查看配置列表 → 新增/编辑配置 → 验证配置值 → 保存配置 → 立即生效
```

#### 3. **权限管理流程**
```
查看权限树 → 新增权限项 → 配置权限关系 → 分配角色权限 → 实时生效
```

#### 4. **积分系统流程**
```
查看积分余额 → 使用积分场景 → 验证余额 → 执行操作 → 更新余额 → 记录交易
```

### 异常处理流程

#### 1. **权限验证失败**
```
权限不足 → 显示错误提示 → 跳转无权限页面 → 联系管理员
```

#### 2. **积分余额不足**
```
余额不足 → 显示充值提示 → 跳转充值页面 → 完成充值 → 继续操作
```

#### 3. **系统配置错误**
```
配置错误 → 显示错误信息 → 回滚配置值 → 记录错误日志 → 通知管理员
```

## 📱 响应式设计

### 断点设置
- **大屏幕**: ≥1400px - 多列布局，充分利用空间
- **桌面端**: 1200px-1399px - 标准布局，侧边栏固定
- **平板端**: 768px-1199px - 侧边栏可折叠，内容自适应
- **移动端**: <768px - 单列布局，底部导航

### 适配策略
- **弹性布局**: 使用Flexbox和Grid布局
- **媒体查询**: 针对不同断点设置样式
- **触摸优化**: 移动端触摸友好的交互元素
- **性能优化**: 移动端减少不必要的动画和效果

## 🎯 后续开发计划

### 第一阶段 (1-2周)
- [ ] 完成基础页面框架搭建
- [ ] 实现用户认证和权限控制
- [ ] 创建主控制台和导航结构

### 第二阶段 (2-3周)
- [ ] 开发系统配置管理功能
- [ ] 实现系统字典管理界面
- [ ] 创建用户管理页面

### 第三阶段 (3-4周)
- [ ] 完善权限管理功能
- [ ] 开发积分系统界面
- [ ] 实现积分类型和场景管理

### 第四阶段 (4-5周)
- [ ] 完善积分账户和交易管理
- [ ] 优化响应式设计
- [ ] 完善用户体验细节

---

## 📝 设计说明

本设计文档基于后端已实现功能的功能说明书，采用现代化的设计理念和用户体验原则。每个页面都经过精心设计，确保功能完整、操作直观、视觉美观。

设计重点考虑了以下几个方面：
1. **功能完整性**: 完全覆盖后端已实现的功能模块
2. **用户体验**: 简洁直观，降低学习成本
3. **权限控制**: 基于角色的功能访问控制
4. **响应式设计**: 支持多设备访问
5. **可扩展性**: 为未来功能扩展预留空间

通过这套完整的设计方案，我们将打造一个专业、易用、美观的医疗影像模型管理平台，完全对应后端的功能实现。 